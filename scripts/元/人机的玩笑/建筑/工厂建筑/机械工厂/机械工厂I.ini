[核心]
name:机械工厂I
界面显示内部调用:mechFactory
class:CustomUnitMetadata
价格:1000
生命值:1800
质量:9000
显示在沙盒中:假
建筑碰撞范围:-1, -1, 1, 1
建筑覆盖范围:-1, -1, 1, 3
自动触发间隔:2s
自动触发检查率:每8帧
科技等级:1
建造速度:0.001
覆盖单位:mechFactory
半径:35
是生物:假
是建筑:真
死亡时爆炸类型:building
离开x轴:0
离开y轴:-1
离开距离:120
tags:建筑物, 机械厂, 厂
canBuild_1_name:setRally
canBuild_1_pos:1
autoTriggerCheckWhileNotBuilt:真

[隐藏行动_未完成]
自动触发:if 自身建造完成==false and 队伍中此单位数量(需标签="辅助建造", 范围内=25, 少于=1)
产生单位:AI辅助建造

[全局资源_压力值]
隐藏:真

[资源_空闲]
隐藏:真

[隐藏行动_无队列]
自动触发:if 自身队列量(少于=1) and 自身有资源(资金=2000)
需要条件:if rnd(0, 100)<min(自身资源.时间*自身资源.AI难度, 30*83.3)*0.012*自身资源.压力值
用逻辑添加资源:空闲=选择(自身资源.空闲<4, max(0.2+队伍中此单位数量(需标签="机械厂")*(-0.09)+自身资源.AI阶段*0.036, 0.05), 0)

[隐藏行动_检测]
自动触发事件:创建
需要条件:if 全图中此单位数量(需标签="陆地检测点", 范围内=500, 少于=1)
产生单位:陆地

[隐藏行动_回收]
自动触发:if 全图中此单位数量(需标签="死路", 范围内=520, 超过=0) and 队伍中此单位数量(需标签="机械厂", 范围内=520, 超过=1)
临时标签添加:需要回收

[行动_建造者]
text:建造者I
UI中显示的单位:建造者I
从单元添加描述:建造者I
pos:1
可见性:if 自身属于AI控制
可用:if 自身有资源(时间=27.7)
锁定:if 队伍中此单位数量(需标签="建造", 包含队列中的=true)>=max(int(min(自身资源.AI阶段*(0.55+自身资源.AI阶段*0.01), 12)), 3) or not 自身队列量(少于=1)
锁定消息:已达上限
允许多个队列:假
价格:500
生产单位:毒-建造者
建造速度:8.3s

[行动_建造2]
生产单位:基础机甲T1
UI中显示的单位:基础机甲T1
从单元添加名称:基础机甲T1
价格:500
允许多个队列:假
显示类型:action
建造速度:13.8s
AI被禁用:真

[行动_建造3]
生产单位:防空机甲T1
UI中显示的单位:防空机甲T1
从单元添加名称:防空机甲T1
价格:900
显示类型:action
建造速度:9.8s
允许多个队列:假
AI被禁用:真

[行动_建造4]
生产单位:火炮机甲T1
UI中显示的单位:火炮机甲T1
从单元添加名称:火炮机甲T1
价格:1400
允许多个队列:假
显示类型:action
建造速度:27.7s
可用:if 自身队列量(少于=1)
锁定:if 队伍中此单位数量(需标签="火炮", 超过=2) or 队伍中此单位数量(需标签="对地", 少于=6)
更多锁定:if 全图中此单位数量(需标签="死路", 范围内=520, 超过=0)
更多锁定消息:暂时禁用

[可建造_5]
name:移动炮塔T1
pos:4
锁定:if 队伍中此单位数量(需标签="坐炮", 超过=0) or 自身有资源(AI阶段=10) or not 自身有资源(时间=90) or 队伍中此单位数量(需标签="火炮", 少于=3) or 自身队列量(超过=0)
更多锁定:if 全图中此单位数量(需标签="死路", 范围内=520, 超过=0)
更多锁定消息:暂时禁用

[行动_ai升级]
价格:2000
text:分期付款升级
描述:先支付2000，之后再支付2000
建造速度:0.0003
增加资源:-2000
转换成:机械工厂II
AI高优先级:真
允许多个队列:假
可见性:if 存活时间(指定时间后=30) and not 自身有标签(包含标签="T2厂")
可用:if 自身有资源(AI阶段=5) and not 队伍中此单位数量(需标签="T2厂", 超过=1) and 队伍中此单位数量(需标签="机械战", 超过=0) or 队伍中此单位数量(需标签="前期", 少于=1)
锁定:if 全图中此单位数量(需标签="死路", 范围内=520, 超过=0)
锁定消息:暂时禁用

[隐藏行动_炮塔开局]
自动触发:if not 有全局标签(包含标签="开局兵源") and 有全局标签(包含标签="防线") and 自身队列量(少于=1) and 自身有资源(资金=3000)
添加全局标签:开局兵源
也添加进队列:炮塔开

[隐藏行动_基础甲]
生产单位:基础机甲T1
建造速度:13.8s
增加资源:-500

[隐藏行动_炮塔开]
需要条件:if not 有全局标签(包含标签="应变位")
生产单位:移动炮塔T1
建造速度:27.7s
增加资源:-4500

[隐藏行动_补充小防空]
自动触发:if 队伍中此单位数量(需标签="小防空")<min(敌人有此单位数量(需标签="空对地")*0.8, 2) or 队伍中此单位数量(需标签="空优", 少于=1) and 队伍中此单位数量(需标签="小防空")<min(敌人有此单位数量(需标签="武直"), 9)
需要条件:if 自身队列量(少于=1)
允许多个队列:假
也添加进队列:小防

[隐藏行动_小防]
生产单位:防空机甲T1
建造速度:9.3s
增加资源:-900

[隐藏行动_补充小甲]
自动触发:if 自身队列量(少于=1) and 队伍中此单位数量(需标签="机枪", 超过=1) and 全图中此单位数量(需标签="死路", 范围内=520, 少于=1) and 自身有资源(空闲=1.2)
需要条件:if 队伍中此单位数量(需标签="小甲", 包含队列中的=true)<int(min(自身资源.AI阶段*(1+自身资源.AI阶段*0.04), 25))
增加资源:空闲=-1.2
也添加进队列:基础甲

[隐藏行动_甲空速攻]
自动触发:if 队伍中此单位数量(需标签="甲空速攻", 超过=0) and 自身队列量(少于=2) and 自身有资源(资金=500)
也添加进队列:速攻小甲

[隐藏行动_速攻小甲]
生产单位:基础机甲T1
建造速度:13.8s
增加资源:-500

[图像]
总帧数:1
image:mechFactoryTop.png
背景图像:mechFactoryBottom.png
死亡图像:mechFactoryDead.png
image_shadow:无
X轴阴影偏移:1
Y轴阴影偏移:1

[攻击]
可攻击:假

[运动]
运动类型:无

[arm_1]
x:0
y:5
末端图像:mechFactoryDoor.png

[动画_openDoor]
动画条件:queuedUnits
在队列中有单位播放:0.8
融入时间:1s
切换融合:4s
arm1_0:{x:0, y:16}

[AI]
建造优先级:0.36
AI升级优先级:0.1
每个基地最大数量:9

[隐藏行动_变]
自动触发事件:创建
需要条件:if not 自身属于AI控制
转换成:毒-机械工厂

[placementRule_前期]
检索标签:前期
检索队伍:己方
搜索距离:9999
最大数量:0
放置规则组:前期

[placementRule_中期]
检索标签:中期
检索队伍:己方
搜索距离:9999
最大数量:0
放置规则组:中期

[placementRule_后期]
检索标签:后期
检索队伍:己方
搜索距离:9999
最大数量:0
放置规则组:后期

[placementRule_1]
检索标签:机械厂
检索队伍:己方
搜索距离:9999
最大数量:1
放置规则组:前期

[placementRule_2]
检索标签:机械厂
检索队伍:己方
搜索距离:9999
最大数量:2
放置规则组:中期

[placementRule_3]
检索标签:机械厂
检索队伍:己方
搜索距离:9999
最大数量:5
放置规则组:后期