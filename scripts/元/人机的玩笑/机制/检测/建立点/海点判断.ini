[核心]
name:海点判断
复制与:ROOT:/机制/通用模版.ini
tags:海点判断
半径:10
禁用碰撞:真
不可选择:真
自动触发间隔:0.01s
自动触发检查率:everyFrame
允许超高频触发:真

[图像]
可见性:假

[运动]
运动类型:水面
移动速度:36
移动忽略转向:真

[隐藏行动_检测敌方海点]
自动触发事件:创建
添加路径点动作类型:移动
添加路径点检索标签:海点
添加路径点靠近队伍:敌方
添加路径点路径可达:真
添加路径点匹配触发:返回锚点
添加路径点失败触发:寻找敌人

[隐藏行动_寻找海岛点]
自动触发:if 全图中此单位数量(需标签="海岛检测点", 超过=0) and not 自身有标签(包含标签="海点判断完毕")
添加路径点动作类型:移动
添加路径点检索标签:海岛检测点
添加路径点靠近队伍:所有
添加路径点路径可达:真
添加路径点匹配触发:返回锚点

[隐藏行动_寻找敌人]
自动触发:if 全图中此单位数量(需标签="海岛检测点", 少于=1) and not 自身有标签(包含标签="海点判断完毕")
添加路径点动作类型:移动
添加路径点检索标签:建造
添加路径点靠近队伍:敌方
添加路径点路径可达:假

[隐藏行动_发现敌人]
自动触发:if 敌人有此单位数量(需标签="建造", 范围内=240)+敌人有此单位数量(需标签="建筑物", 范围内=240)+中立有此单位数量(需标签="资源点", 范围内=240)>0 and 存活时间(指定时间后=1) and not 自身有标签(包含标签="海点判断成功")
也执行动作:返回锚点

[隐藏行动_返回锚点]
临时标签添加:海点判断成功
清除所有路径点:真
添加路径点动作类型:移动
添加路径点检索标签:海点
添加路径点靠近队伍:己方

[隐藏行动_死亡]
自动触发:if 存活时间(指定时间后=10) and not 自身在移动 or 队伍中此单位数量(需标签="海域锚点", 范围内=100)>0
删除自身:真