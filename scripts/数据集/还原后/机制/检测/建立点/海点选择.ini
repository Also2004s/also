[core]
name:海点选择
copyFrom:ROOT:/机制/通用模版.ini
tags:海点选择
radius:10
isUnselectable:true
autoTriggerCooldownTime:0.01s
autoTriggerCheckRate:everyFrame
autoTriggerCooldownTime_allowDangerousHighCPU:true
[graphics]
isVisible:false
[movement]
movementType:AIR
moveSpeed:16
moveIgnoringBody:true

[hiddenAction_检测地形]
autoTriggerOnEvent:created
addWaypoint_type:move
addWaypoint_position_relativeOffsetFromSelf:0, 2000
addWaypoint_target_mapMustBeReachable:false
[hiddenAction_生成锚点]
autoTrigger:true
requireConditional:if self.isOverPassableTile(type="WATER") and numberOfUnitsInTeam(withTag="海点", withinRange=20)<1
spawnUnits:海厂锚点, 海点判断
[hiddenAction_死亡]
autoTrigger:true
requireConditional:if self.timeAlive(laterThanSeconds=2) or self.isOverClift or self.hasResources(海上时间=4)
deleteSelf:true

[hiddenAction_在海上]
autoTrigger:true
requireConditional:if self.isOverPassableTile(type="WATER")
addResources:海上时间=1
[resource_海上时间]
hidden:true