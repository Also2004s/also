[core]
name:运输艇I
copyFrom:运输模版.ini
showInEditor:true
canNotBeGivenOrdersByPlayer:true
tags:运, 运输艇I
autoTriggerCooldownTime:0.4s
autoTriggerCheckRate:every8Frames

[resource_冷却]
hidden:true
[hiddenAction_增加冷却]
autoTrigger:true
requireConditional:if not self.isMoving and not self.hasActiveWaypoint
addResources:冷却=0.4
[hiddenAction_偏移]
autoTrigger:true
requireConditional:if self.hasResources(冷却=3) and not self.isMoving
startUnloadingTransport:true
convertTo:运输艇Z
addResources:冷却=-2
[hiddenAction_ai装建造]
autoTrigger:true
requireConditional:if not self.transportingUnitWithTags(includes='建造') and not self.hasActiveWaypoint(type='loadUP') and not numberOfUnitsInAllTeams(withTag="造抽取", greaterThan=0, withinRange=165) and (numberOfUnitsInTeam(withTag="经济", withinRange=165, incompleteBuildings=true)-(numberOfUnitsInTeam(withTag="经济", withinRange=165)))==0
addWaypoint_type:loadUP
clearAllWaypoints:true
addWaypoint_prepend:true
addWaypoint_target_nearestUnit_tagged:外出
addWaypoint_target_nearestUnit_team:own
[hiddenAction_ai装对地]
autoTrigger:true
requireConditional:if self.transportingUnitWithTags(includes='建造') and not self.isMoving and not numberOfUnitsInAllTeams(withTag="造抽取", greaterThan=0, withinRange=165)
clearAllWaypoints:true
addWaypoint_type:loadUP
addWaypoint_prepend:true
addWaypoint_target_nearestUnit_tagged:小坦, 小甲, 重坦, 猛犸
addWaypoint_target_nearestUnit_team:own
setResourcesWithLogic:冷却:0
[hiddenAction_寻找]
autoTrigger:if numberOfUnitsInTeam(withTag="造抽取", greaterThan=0)
requireConditional:if self.transportingUnitWithTags(includes='建造') and not self.hasActiveWaypoint(type='move')
addWaypoint_type:move
clearAllWaypoints:true
addWaypoint_target_nearestUnit_tagged:造抽取
addWaypoint_target_nearestUnit_team:own
addWaypoint_target_mapMustBeReachable:true
[hiddenAction_ai放]
autoTrigger:if numberOfUnitsInAllTeams(withTag="造抽取", greaterThan=0, withinRange=165) or (numberOfUnitsInTeam(withTag="经济", withinRange=165, incompleteBuildings=true)-(numberOfUnitsInTeam(withTag="经济", withinRange=165)))>0 or numberOfUnitsInAllTeams(withTag="资源点", lessThan=1) or not self.isControlledByAI
requireConditional:if self.isOverOpenLand
convertTo:运输艇Z
clearAllWaypoints:true
startUnloadingTransport:true