[core]
dont_load:true
[hiddenAction_陆军集结]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="陆军作战中控",greaterThan=0) and numberOfUnitsInTeam(withTag="陆军作战中控",withinRange=120,lessThan=1) and numberOfUnitsInTeam(withTag="发起进攻",withinRange=390,lessThan=1) and self.tags(includes="陆军") and not self.hasActiveWaypoint(type='touchTarget') and self.isControlledByAI and numberOfUnitsInTeam(withTag="正在协防",lessThan=1) or ${movement.moveSpeed}<0.8 and numberOfUnitsInTeam(withTag="正在协防",withinRange=500,lessThan=1) and numberOfUnitsInTeam(withTag="陆军作战中控",greaterThan=0) and numberOfUnitsInTeam(withTag="陆军作战中控",withinRange=120,lessThan=1) and numberOfUnitsInTeam(withTag="发起进攻",withinRange=390,lessThan=1) and self.tags(includes="陆军") and not self.hasActiveWaypoint(type='touchTarget') and self.isControlledByAI
addWaypoint_type:touchTarget
addWaypoint_target_nearestUnit_tagged:陆军作战中控
addWaypoint_target_nearestUnit_team:own
addWaypoint_triggerActionIfMatched:清除路径
[hiddenAction_清除路径]
requireConditional:if not self.hasActiveWaypoint(type='touchTarget')
clearAllWaypoints:true
addWaypoint_type:touchTarget
addWaypoint_target_nearestUnit_tagged:陆军作战中控
addWaypoint_target_nearestUnit_team:own
[hiddenAction_陆军发起进攻]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="发起进攻",withinRange=390,greaterThan=0) and not self.hasActiveWaypoint(type='attack') and self.tags(includes="对地") and not self.tags(includes="控距") and self.tags(includes="陆军") and self.isControlledByAI and numberOfUnitsInTeam(withTag="正在协防",lessThan=1) or ${movement.moveSpeed}<0.8 and numberOfUnitsInTeam(withTag="正在协防",withinRange=500,lessThan=1) and numberOfUnitsInTeam(withTag="发起进攻",withinRange=390,greaterThan=0) and not self.hasActiveWaypoint(type='attack') and self.tags(includes="对地") and not self.tags(includes="控距") and self.tags(includes="陆军") and self.isControlledByAI
clearAllWaypoints:true
addWaypoint_type:attack
addWaypoint_target_nearestUnit_tagged:建筑物,地
addWaypoint_target_nearestUnit_team:enemy

[hiddenAction_陆军协防]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="正在协防",greaterThan=0) and ${movement.moveSpeed}>=0.8 and numberOfUnitsInTeam(withTag="正在协防",greaterThan=0) and numberOfUnitsInTeam(withTag="正在协防",withinRange=225,lessThan=1) and self.tags(includes="陆军") and not self.hasActiveWaypoint(type='touchTarget') and self.isControlledByAI or numberOfUnitsInTeam(withTag="正在协防",withinRange=500,greaterThan=0) and numberOfUnitsInTeam(withTag="正在协防",greaterThan=0) and numberOfUnitsInTeam(withTag="正在协防",withinRange=225,lessThan=1) and self.tags(includes="陆军") and not self.hasActiveWaypoint(type='touchTarget') and self.isControlledByAI
addWaypoint_type:touchTarget
addWaypoint_target_nearestUnit_tagged:协防指挥
addWaypoint_target_nearestUnit_team:own
addWaypoint_triggerActionIfMatched:清除路径协防
[hiddenAction_清除路径协防]
clearAllWaypoints:true
addWaypoint_type:touchTarget
addWaypoint_target_nearestUnit_tagged:协防指挥
addWaypoint_target_nearestUnit_team:own