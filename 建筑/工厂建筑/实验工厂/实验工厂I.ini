[core]
name:实验工厂I
displayText:实验工厂I
displayDescription:-制造昂贵但非常强力的实验单位
class:CustomUnitMetadata
price:11000
maxHp:3200
mass:9000
autoTriggerCooldownTime:2s
autoTriggerCheckRate:every8Frames
footprint:-1,-1,3,3
constructionFootprint:-1,-1,3,5
buildingToFootprintOffsetX:30
buildingToFootprintOffsetY:30
overrideAndReplace:experimentalLandFactory
techLevel:2
buildSpeed:0.0006
radius:35
isBio:false
isBuilding:true
explodeTypeOnDeath:building
effectOnDeath:CUSTOM:shockwave
exit_x:0
exit_y:5
exit_moveAwayAmount:165
tags:建筑物,实验工厂I,大建筑,T2厂
canBuild_1_name:setRally
canBuild_1_pos:0.1
autoTriggerCheckWhileNotBuilt:true
[hiddenAction_未完成]
autoTrigger:true
requireConditional:if self.completed==false and numberOfUnitsInTeam(withTag="辅助建造",withinRange=25,lessThan=1)
spawnUnits:AI辅助建造
[hiddenAction_检测]
autoTriggerOnEvent:created
requireConditional:if numberOfUnitsInAllTeams(withTag="陆地检测点",withinRange=500,lessThan=1)
spawnUnits:LAND
[action_实验坦克]
textAddUnitName:实验坦克
unitShownInUI:实验坦克
description:先付9000，建造完毕后再付剩余的金额
produceUnits:实验坦克
price:10000
addResources:-4000
buildSpeed:0.0002
ai_isHighPriority:true
allowMultipleInQueue:false
pos:11
isActive:if numberOfUnitsInTeam(withTag="实验坦")<int(min(self.resource.AI阶段*(0.01+self.resource.AI阶段*0.01),5))
isLocked:if self.resource.概率<5
isLockedMessage:暂时禁用
isLockedAlt:if numberOfUnitsInAllTeams(withTag="死路",withinRange=520,greaterThan=0)
isLockedAltMessage:暂时禁用
[canBuild_3]
name:nautilusSubmarine
pos:4
isLockedAlt:if not self.hasResources(AI阶段=45)
isLockedAltMessage:AI资源配额不足
[canBuild_4]
name:experimentalHoverTank
pos:5
isLockedAlt:if not self.hasResources(AI阶段=20)
isLockedAltMessage:AI资源配额不足
[canBuild_5]
name:飞行堡垒I
pos:6
isLocked:if not self.hasResources(AI阶段=35)
isLockedMessage:AI资源配额不足
isLockedAlt:if numberOfUnitsInTeam(withTag="堡垒",greaterThan=0)
isLockedAltMessage:AI已使用该单位
[canBuild_6]
name:实验蜘蛛I
pos:7
isLockedAlt:if not self.hasResources(时间=500) and not self.hasResources(AI阶段=40)
isLockedAltMessage:AI暂时禁用该单位
[hiddenAction_造单位]
autoTrigger:true
requireConditional:if not numberOfUnitsInTeam(withTag="堡垒已造",greaterThan=0) and self.hasResources(credits=180000) and self.queueSize(lessThan=1)
allowMultipleInQueue:false
temporarilyAddTags:堡垒已造
alsoQueueAction:生产飞行堡垒
resetCustomTimer:true
[hiddenAction_造飞行核弹]
autoTrigger:true
requireConditional:if not numberOfUnitsInTeam(withTag="堡垒",greaterThan=0) and numberOfUnitsInTeam(withTag="大后期",greaterThan=0) and self.queueSize(lessThan=1) and self.hasResources(credits=30000) and self.isControlledByAI and self.customTimer(laterThanSeconds=84)
resetCustomTimer:true
allowMultipleInQueue:false
alsoQueueAction:生产飞行堡垒
[hiddenAction_生产飞行堡垒]
produceUnits:AI飞行堡垒I
buildSpeed:83.3s
addResources:-30000
[hiddenAction_造蜘蛛]
autoTrigger:true
requireConditional:if not numberOfUnitsInTeam(withTag="蜘蛛",greaterThan=1) and numberOfUnitsInTeam(withTag="大后期",greaterThan=0) and self.queueSize(lessThan=1) and self.hasResources(credits=70000) and self.isControlledByAI and self.customTimer(laterThanSeconds=84)
resetCustomTimer:true
allowMultipleInQueue:false
alsoQueueAction:生产蜘蛛
[hiddenAction_生产蜘蛛]
produceUnits:实验蜘蛛I
buildSpeed:83.3s
addResources:-70000
[hiddenAction_实验坦]
autoTrigger:if numberOfUnitsInTeam(withTag="实验坦")<int(min(self.resource.AI阶段*(0.01+self.resource.AI阶段*0.01)*0.6,5)) and self.queueSize(lessThan=1) and self.hasResources(credits=16000) and self.isControlledByAI and self.customTimer(laterThanSeconds=84)
requireConditional:if numberOfUnitsInAllTeams(withTag="死路",withinRange=520,lessThan=1)
resetCustomTimer:true
allowMultipleInQueue:false
alsoQueueAction:生产实验坦
[hiddenAction_生产实验坦]
produceUnits:实验坦克
buildSpeed:83.3s
addResources:-14000
[hiddenAction_概念坦]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="概念坦",factoryQueue=true)<int(min((self.resource.AI阶段-12.5)*(0.01+self.resource.AI阶段*0.02),36)) and self.queueSize(lessThan=1) and self.hasResources(credits=21000) and self.isControlledByAI and self.customTimer(laterThanSeconds=84)
resetCustomTimer:true
allowMultipleInQueue:false
alsoQueueAction:生产概念坦
[hiddenAction_生产概念坦]
produceUnits:experimentalHoverTank
buildSpeed:83.3s
addResources:-21000
[graphics]
total_frames:1
image:experimental_unit_factory_front.png
image_wreak:experimental_unit_factory_dead.png
image_back:experimental_unit_factory_base.png
image_shadow:NONE
shadowOffsetX:1
shadowOffsetY:1
[attack]
canAttack:false
[effect_shockwave]
stripIndex:shockwave_large
scaleFrom:0.2
scaleTo:2
life:45
color:#FFEECCCC
[movement]
movementType:NONE
[ai]
buildPriority:0.99
noneGlobalExtraPriority:999
ai_upgradePriority:0.33
[hiddenAction_变]
autoTriggerOnEvent:created
requireConditional:if not self.isControlledByAI
convertTo:实验工厂T1
[placementRule_前期]
searchTags:前期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:前期
[placementRule_中期]
searchTags:中期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:中期
[placementRule_后期]
searchTags:后期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:后期
[placementRule_1]
searchTags:实验工厂I
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:前期
[placementRule_2]
searchTags:实验工厂I
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:中期
[placementRule_3]
searchTags:实验工厂I
searchTeam:own
searchDistance:9999
maxCount:1
anyRuleInGroup:后期