[core]
name:空军基地I
displayLocaleKey:airFactory
class:CustomUnitMetadata
price:1000
maxHp:1000
mass:3000
showInEditor:true
footprint:-2,-1,0,1
constructionFootprint:-2,-1,0,2
autoTriggerCooldownTime:2s
autoTriggerCheckRate:every8Frames
buildingToFootprintOffsetX:-10
buildingToFootprintOffsetY:10
overrideAndReplace:airFactory
techLevel:1
buildSpeed:0.001
radius:30
isBio:false
isBuilding:true
tags:建筑物,空厂,厂
exit_x:0
exit_y:-1
exit_moveAwayAmount:90
canBuild_1_name:setRally
canBuild_1_pos:0.1
autoTriggerCheckWhileNotBuilt:true
[hiddenAction_未完成]
autoTrigger:true
requireConditional:if self.completed==false and numberOfUnitsInTeam(withTag="辅助建造",withinRange=25,lessThan=1)
spawnUnits:AI辅助建造
[hiddenAction_蚊子]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="空对地",lessThan=1) and self.queueSize(lessThan=1) and numberOfUnitsInEnemyTeam(withTag="空厂",lessThan=1,incompleteBuildings=true)
alsoQueueAction:蚊子1
[hiddenAction_蚊子1]
produceUnits:轻型武装直升机
buildSpeed:5.5s
addResources:-250
[hiddenAction_拦截]
autoTrigger:if numberOfUnitsInEnemyTeam(withTag="空厂",greaterThan=0) and self.queueSize(lessThan=1) and not self.tags(includes="T2厂")
requireConditional:if numberOfUnitsInTeam(withTag="空优",lessThan=1) and self.hasResources(credits=1000) and numberOfUnitsInTeam(withTag="拦截",lessThan=5)
alsoQueueAction:补充拦截
[hiddenAction_补充拦截]
produceUnits:拦截机T1
buildSpeed:8.3s
addResources:-600
[action_2]
unitShownInUI:拦截机T1
textAddUnitName:拦截机T1
descriptionAddFromUnit:拦截机T1
produceUnits:拦截机T1
price:600
buildSpeed:8.3s
displayType:action
ai_isDisabled:true
[action_3]
unitShownInUI:轻型武装直升机
textAddUnitName:轻型武装直升机
descriptionAddFromUnit:轻型武装直升机
produceUnits:轻型武装直升机
price:250
buildSpeed:5.5s
displayType:action
ai_isDisabled:true
[hiddenAction_后排升级T2]
autoTrigger:if self.globalTeamTags(includes="后排") and not self.tags(includes="T2厂")
requireConditional:if numberOfUnitsInTeam(withTag="空优",greaterThan=0) and self.queueSize(lessThan=1) and numberOfUnitsInAllTeams(withTag="岩浆点")+numberOfUnitsInAllTeams(withTag="海岛点")+numberOfUnitsInAllTeams(withTag="悬崖点")>0
alsoQueueAction:升级T2
[hiddenAction_升级T2]
convertTo:空军基地II
buildSpeed:0.0004
addResources:-1500
[action_upgradeT2]
convertTo:空军基地II
price:1500
text:升级T2
description:-允许空军基地生产高级单位
displayType:upgrade
buildSpeed:0.0004
pos:0.2
iconImage:SHARED:icon_upgrade.png
ai_isHighPriority:true
allowMultipleInQueue:false
isVisible:if self.timeAlive(laterThanSeconds=45) and numberOfUnitsInTeam(withTag="T2厂")+self.numberOfUnitsInAllyNotOwnTeam(withTag="T2厂")>0 or self.globalTeamTags(includes="空军")
isActive:if self.hasResources(AI阶段=5) and not numberOfUnitsInTeam(withTag="T2空厂",greaterThan=0) or numberOfUnitsInTeam(withTag="前期",lessThan=1) and not self.tags(includes="T2厂")
isLocked:if numberOfUnitsInTeam(withTag="T2厂",greaterThan=0) and numberOfUnitsInAllTeams(withTag="岩浆点",lessThan=1) and numberOfUnitsInAllTeams(withTag="悬崖点",lessThan=1) and not self.hasResources(AI阶段=10) or self.queueSize(greaterThan=0)
[hiddenAction_甲空速攻]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="甲空速攻",greaterThan=0) and self.queueSize(lessThan=2) and self.hasResources(credits=2000) and numberOfUnitsInTeam(withTag="空对地",lessThan=2,factoryQueue=true)
alsoQueueAction:速攻直升机
[hiddenAction_速攻直升机]
produceUnits:直升机T1
buildSpeed:0.0012s
addResources:-700
[graphics]
total_frames:5
image:air_factory.png
image_wreak:air_factory_dead.png
image_shadow:NONE
shadowOffsetX:1
shadowOffsetY:1
animation_idle_start:0
animation_idle_end:4
animation_idle_speed:27.5
[attack]
canAttack:false
[movement]
movementType:NONE
[ai]
buildPriority:0.365
ai_upgradePriority:0.1
maxEachBase:9
[hiddenAction_禁空]
autoTrigger:true
requireConditional:if numberOfUnitsInAllTeams(withTag="禁空军",greaterThan=0)
deleteSelf:true
addResources:1000
[hiddenAction_变]
autoTriggerOnEvent:created
requireConditional:if not self.isControlledByAI
convertTo:毒-空军基地
[placementRule_禁空]
searchTags:禁空军
searchTeam:any
cannotPlaceMessage:本局已禁用空军
maxCount:0
searchDistance:Infinity
[placementRule_前期]
searchTags:前期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:前期
[placementRule_中期]
searchTags:中期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:中期
[placementRule_后期]
searchTags:后期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:后期
[placementRule_1]
searchTags:空厂
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:前期
[placementRule_2]
searchTags:空厂
searchTeam:own
searchDistance:9999
maxCount:4
anyRuleInGroup:中期
[placementRule_3]
searchTags:空厂
searchTeam:own
searchDistance:9999
maxCount:10
anyRuleInGroup:后期