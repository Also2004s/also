[core]
name:修复湾X
displayLocaleKey:repairbay
class:CustomUnitMetadata
price:1500
mass:9000
maxHp:1000
footprint:0, 0, 2, 2
constructionFootprint:0, 0, 2, 2
buildingToFootprintOffsetX:30
buildingToFootprintOffsetY:30
techLevel:1
buildSpeed:0.001
radius:30
buildingSelectionOffset:0
overrideAndReplace:repairbay
displayDescription:-维修单位\n-可以辅助建造\n-可以回收单位
isBuilding:true
canRepairBuildings:true
canRepairUnits:true
autoRepair:true
nanoRepairSpeed:0.25
canReclaimResources:true
tags:建筑物, 修复湾I
nanoRange:230
[hiddenAction_危险]
autoTrigger:true
requireConditional:if numberOfUnitsInEnemyTeam(withTag="对地", withinRange=460)+numberOfUnitsInEnemyTeam(withTag="空对地", withinRange=460)+numberOfUnitsInEnemyTeam(withTag="拦截", withinRange=460)+numberOfUnitsInEnemyTeam(withTag="对空", withinRange=460)>0
temporarilyRemoveTags:修复
[hiddenAction_安全]
autoTrigger:true
requireConditional:if numberOfUnitsInEnemyTeam(withTag="对地", withinRange=460)+numberOfUnitsInEnemyTeam(withTag="空对地", withinRange=460)+numberOfUnitsInEnemyTeam(withTag="拦截", withinRange=460)+numberOfUnitsInEnemyTeam(withTag="对空", withinRange=460)==0
temporarilyAddTags:修复
[canBuild_canReclaim]
name:reclaim
pos:-1
[canBuild_canrepair]
name:repair
pos:1
[graphics]
image:repair_bay.png
image_wreak:repair_bay_dead.png
image_shadow:NONE
shadowOffsetX:1
shadowOffsetY:1
[attack]
canAttack:false
turretTurnSpeed:12
maxAttackRange:230
showRangeUIGuide:true
[turret_repairTurret]
x:0
y:30
canShoot:false
invisible:true
size:0
isMainNanoTurret:true
[movement]
movementType:NONE
moveSpeed:0
moveAccelerationSpeed:0.01
moveDecelerationSpeed:0.01
maxTurnSpeed:0
turnAcceleration:0.1
[ai]
useAsBuilder:true
buildPriority:0.32
recommendedInEachBaseNum:1
maxEachBase:2
maxGlobal:10
[placementRule_前期]
searchTags:前期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:前期
[placementRule_中期]
searchTags:中期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:中期
[placementRule_后期]
searchTags:后期
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:后期
[placementRule_1]
searchTags:修复湾I
searchTeam:own
searchDistance:9999
maxCount:0
anyRuleInGroup:前期
[placementRule_2]
searchTags:修复湾I
searchTeam:own
searchDistance:9999
maxCount:2
anyRuleInGroup:中期
[placementRule_3]
searchTags:修复湾I
searchTeam:own
searchDistance:9999
maxCount:8
anyRuleInGroup:后期
[hiddenAction_回收]
autoTrigger:if numberOfUnitsInTeam(withTag="需要回收", withinRange=230, greaterThan=0) or self.numberOfUnitsInAllyNotOwnTeam(withTag="需要回收", withinRange=230, greaterThan=0)
requireConditional:if not self.hasActiveWaypoint(type='reclaim')
clearAllWaypoints:true
addWaypoint_type:reclaim
addWaypoint_target_mapMustBeReachable:true
addWaypoint_target_nearestUnit_tagged:需要回收
addWaypoint_prepend:true
addWaypoint_target_nearestUnit_team:ally
[hiddenAction_转化]
autoTriggerOnEvent:created
requireConditional:if numberOfUnitsInTeam(greaterThan=0, withTag="特殊实验")
convertTo:修复湾I