[core]
name:防空炮塔T0
class:CustomUnitMetadata
price:600
maxHp:800
mass:9000
displayLocaleKey:antiAirTurret
overrideAndReplace:antiAirTurret
buildSpeed:0.0008
copyFrom:防空模版.ini
tags:建筑物, 防空, 对空
borrowResourcesWhileAlive:对空伤害量=-1200
[action_upgradeT2]
convertTo:防空炮塔T1
price:1200
text:T2-萨姆导弹
description:i:gui.actions.upgradeToAAT2.description
displayType:Upgrade
buildSpeed:0.001
allowMultipleInQueue:false
pos:0.2
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats:${section.convertTo}
isActive:if self.hasResources(AI阶段=5) or numberOfUnitsInEnemyTeam(withTag="空对地", withinRange=300, greaterThan=3) or not self.isControlledByAI
[action_upgradeFlak]
convertTo:高射炮T1
price:4000
text:T2-高射炮
description:射程较近，但防御高并且有溅射伤害
displayType:Upgrade
buildSpeed:0.0005
pos:0.2
iconExtraImage:SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF
descriptionAddUnitStats:${section.convertTo}
isActive:if numberOfUnitsInEnemyTeam(withTag="空对地", greaterThan=12) and numberOfUnitsInTeam(withTag="高射炮", withinRange=512, lessThan=1) or not self.isControlledByAI
[hiddenAction_sbai]
autoTrigger:true
requireConditional:if self.timeAlive(laterThanSeconds=120) and self.queueSize(lessThan=1) and self.hasResources(credits=2400) and self.isControlledByAI and self.hasResources(AI阶段=7.5)
alsoQueueAction:upgradeT2
addResources:-1200
[attack]
turretSize:12
maxAttackRange:250
shootDelay:80
[turret_1]
x:0
y:6
shoot_sound:missile_fire
shoot_sound_vol:0.3
shoot_flame:small
shoot_light: #FFEECCCC
shouldResetTurret:false
idleSpin:0.8
recoilOffset:-3
recoilOutTime:6
recoilReturnTime:12
[projectile_1]
directDamage:60
life:240
speed:0.3
targetSpeed:6
trailEffect:true
largeHitEffect:true
frame:4
autoTargetingOnDeadTarget:true