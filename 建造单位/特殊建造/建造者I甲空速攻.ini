[core]
name:建造者I甲空速攻
copyFrom:ROOT:/建造单位/建造/建造者基础.ini
tags:建造,地,安全,立厂
canNotBeGivenOrdersByPlayer:true
@memory 家位置:unit
canBuild_1_name:reclaim
canBuild_1_pos:-1
[hiddenAction_检测]
autoTrigger:true
requireConditional:if memory.家位置==nullUnit
setUnitMemory:家位置=globalSearchForFirstUnit(relation='own',withTag='I')
[hiddenAction_开局立甲厂]
requireConditional:if numberOfUnitsInTeam(withTag="甲空速攻",greaterThan=0) and not numberOfUnitsInTeam(withTag="机械厂",greaterThan=1,incompleteBuildings=true) and memory.家位置!=nullUnit and not self.hasActiveWaypoint(type='build')
autoTrigger:if not self.globalTeamTags(includes="空军") or numberOfUnitsInTeam(withTag="机械厂",lessThan=1,incompleteBuildings=true)
addWaypoint_type:build
addWaypoint_unitType:机械工厂I
addWaypoint_target_fromReference:createMarker(x=memory.家位置.x+int(rnd(-4,4))*30,y=memory.家位置.y+int(rnd(-4,4))*30)
[hiddenAction_开局立空厂]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="甲空速攻",greaterThan=0) and not numberOfUnitsInTeam(withTag="空厂",greaterThan=0,incompleteBuildings=true) and memory.家位置!=nullUnit and not self.hasActiveWaypoint(type='build') and self.globalTeamTags(includes="空军")
addWaypoint_type:build
addWaypoint_unitType:空军基地I
addWaypoint_target_fromReference:createMarker(x=memory.家位置.x+int(rnd(-4,4))*30,y=memory.家位置.y+int(rnd(-4,4))*30)
[canBuild_21]
name:机械工厂I
pos:21
isVisible:if self.hasResources(时间=144)
[canBuild_22]
name:空军基地I
pos:21
isVisible:if self.hasResources(时间=144)
[hiddenAction_转]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="厂",greaterThan=1,incompleteBuildings=true)
clearAllWaypoints:true
convertTo:建造者I