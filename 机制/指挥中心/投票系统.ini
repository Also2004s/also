[核心]
name:投票系统
禁止加载:true
复制与:通用模块.ini
@memory 难度:string
@memory 通告:string
[行动_显示]
text:显示
位置:7
建造速度:0s
界面闪烁:true
临时标签添加:显示信息
允许多个队列:false
显示类型:action
可见性:if not 自身有标签(包含标签="显示信息")
[全局资源_概率]
隐藏:true
[全局资源_压力值]
隐藏:true
[全局资源_最高战力]
隐藏:true
[全局资源_军队战力]
隐藏:true
[行动_显示信息]
text:< %{内存.难度} >\n阶段：%{(int(自身资源.AI阶段))}\n信用：%{(自身资源.信用)}\n概率：%{(自身资源.概率)}
描述:重拦：%{(队伍中此单位数量(需标签="重拦"))} 两栖：%{(队伍中此单位数量(需标签="喷气机"))} 猛犸：%{(队伍中此单位数量(需标签="猛犸"))} 重坦：%{(队伍中此单位数量(需标签="重坦"))}\n全队重拦：%{(队伍中此单位数量(需标签="重拦")+盟友有此单位数量(需标签="重拦"))}\n战术变更可能性%{100-max(100-(自身资源.AI难度*(2.5+自身资源.AI难度))*0.5, 80)}％\n地图形式：%{select(有全局标签(包含标签="左右图"), '左右图', '上下图')} 自身位置：%{select(有全局标签(包含标签="图上"), '图上', '图下')} %{select(有全局标签(包含标签="图左"), '图左', '图右')}\n压力值：%{自身资源.压力值} 敌方军队%{自身资源.军队战力} 敌方最高战力%{自身资源.最高战力}
可见性:if 自身有标签(包含标签="显示信息")
建造速度:0s
显示类型:infoOnly
允许多个队列:false
显示给盟友:true
显示给敌人:true
界面闪烁:true
可用:false
位置:8
AI被禁用:true
[行动_禁空]
text:请求禁空
可见性:if 自身有标签(包含标签="显示信息") and numberOfUnitsInAllTeams(需标签="同意禁空", 少于=1)
描述:当队友进行投票后禁用空军单位
建造速度:0s
允许多个队列:false
临时标签添加:开始投票, 同意禁空, 投票主办
显示类型:action
界面闪烁:true
发送消息至所有:%{自身队伍id+1}号玩家请求禁用空军，请各位玩家尽快在指挥中心完成投票
位置:9
AI被禁用:true
锁定:if 自身属于AI控制
[行动_投票同意禁空]
text:同意禁空
可见性:if numberOfUnitsInAllTeams(需标签="同意禁空", 超过=0) and not 自身有标签(包含标签="同意禁空") and not 自身有标签(包含标签="拒绝禁空") and not 自身属于AI控制
发送消息至所有:%{自身队伍id+1}号玩家同意禁空
临时标签添加:同意禁空
建造速度:0s
允许多个队列:false
显示类型:action
界面闪烁:true
位置:1.1
AI被禁用:true
锁定:if 自身属于AI控制
[行动_投票拒绝禁空]
text:拒绝禁空
可见性:if numberOfUnitsInAllTeams(需标签="同意禁空", 超过=0) and not 自身有标签(包含标签="同意禁空") and not 自身有标签(包含标签="拒绝禁空") and not 自身属于AI控制
发送消息至所有:%{自身队伍id+1}号玩家拒绝禁空
临时标签添加:拒绝禁空
建造速度:0s
允许多个队列:false
显示类型:action
界面闪烁:true
位置:1.2
AI被禁用:true
锁定:if 自身属于AI控制
[全局资源_投票等待时长]
隐藏:true
[隐藏行动_投票时长增加]
需要条件:if 自身有标签(包含标签="开始投票") and not 自身有资源(投票等待时长=10)
增加资源:投票等待时长:0.2
[隐藏行动_禁空投票结算]
自动触发:true
需要条件:if 自身有标签(包含标签="开始投票") and 自身有标签(包含标签="同意禁空") and 自身有资源(投票等待时长=10)
用逻辑设置资源:投票等待时长:0
临时标签删除:开始投票
也执行动作:同意禁空, 拒绝禁空
[隐藏行动_同意禁空]
需要条件:if numberOfUnitsInAllTeams(需标签="同意禁空")>=numberOfUnitsInAllTeams(需标签="拒绝禁空") and 自身有标签(包含标签="投票主办")
临时标签删除:投票主办
生产单位:禁空
发送消息至所有:本局已禁用空军
[隐藏行动_拒绝禁空]
需要条件:if numberOfUnitsInAllTeams(需标签="同意禁空")<numberOfUnitsInAllTeams(需标签="拒绝禁空") and 自身有标签(包含标签="投票主办")
临时标签删除:投票主办
发送消息至所有:多数玩家拒绝禁空，本次对局将不再启用禁空投票选项
[行动_隐藏]
text:隐藏信息
位置:7
建造速度:0s
界面闪烁:true
临时标签删除:显示信息
显示类型:action
可见性:if 自身有标签(包含标签="显示信息")