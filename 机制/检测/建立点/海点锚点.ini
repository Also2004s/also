[core]
name:海厂锚点
copyFrom:ROOT:/机制/通用模版.ini
tags:海点
radius:10
isUnselectable:true
autoTriggerCooldownTime:0.1s
[graphics]
isVisible:if self.tags(includes="海厂锚点") and self.timeAlive(withinSeconds=10)
imageScale:1
[turret_1]
x:0
y:0
projectile:1
[projectile_1]
invisible:true
directDamage:0
life:0
targetGroundSpread:50
instant:true
spawnUnit:水域检测(skipIfOverlapping=true,gridAlign=true)
explodeEffect:NONE
[movement]
movementType:WATER
moveSpeed:0
moveIgnoringBody:true

[hiddenAction_死亡]
autoTrigger:true
requireConditional:if self.timeAlive(laterThanSeconds=10) and not self.tags(includes="海域锚点")
deleteSelf:true
[hiddenAction_锚点]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="水域检测",withinRange=100)>0
temporarilyAddTags:海域锚点
[hiddenAction_海点判断成功]
autoTrigger:true
requireConditional:if numberOfUnitsInTeam(withTag="海点判断成功",withinRange=40)>0 and not self.tags(includes="海域锚点")
fireTurretXAtGround:1
fireTurretXAtGround_count:1
fireTurretXAtGround_withOffset:0,0
[hiddenAction_无敌人]
autoTrigger:true
requireConditional:if numberOfUnitsInEnemyTeam(withTag="对地",withinRange=320)+numberOfUnitsInEnemyTeam(withTag="空对地",withinRange=320)==0 and self.tags(includes="海域锚点")
temporarilyAddTags:海厂锚点
[hiddenAction_有敌人]
autoTrigger:true
requireConditional:if numberOfUnitsInEnemyTeam(withTag="对地",withinRange=320)+numberOfUnitsInEnemyTeam(withTag="空对地",withinRange=320)>0
temporarilyRemoveTags:海厂锚点