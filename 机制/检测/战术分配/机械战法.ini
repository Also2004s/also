[core]
name:机械战法
copyFrom:ROOT:/机制/通用模版.ini
tags:机械战
radius:15
isUnselectable:true
@memory 战术:string
[graphics]
isVisible:false
[movement]
movementType:NONE
[hiddenAction_战术变更]
autoTriggerOnEvent:created
requireConditional:if rnd(1, 100)>max(100-(self.resource.AI难度*(2.5+self.resource.AI难度))*0.5, 80)
setUnitMemory:战术=select(rnd(100, 200)>=155, '偷家战术', '空军战术')
alsoTriggerAction:偷家战术, 空军战术

[hiddenAction_偷家战术]
requireConditional:if self.isControlledByAI and not numberOfUnitsInAllTeams(withTag="岩浆点", greaterThan=0) and not numberOfUnitsInAllTeams(withTag="悬崖点", greaterThan=0) and memory.战术=='偷家战术' and self.numberOfUnitsInAllyNotOwnTeam(withTag="偷家战术", lessThan=1) and not numberOfUnitsInTeam(withTag="偷家战术", greaterThan=0)
spawnUnits:偷家战术, 坦克战法
deleteSelf:true
[hiddenAction_空军战术]
requireConditional:if self.isControlledByAI and memory.战术=='空军战术' and self.numberOfUnitsInAllyNotOwnTeam(withTag="空军战术", lessThan=1) and not numberOfUnitsInTeam(withTag="空军战术", greaterThan=0) and numberOfUnitsInAllTeams(withTag="禁空军", lessThan=1)
removeGlobalTeamTags:海军, 陆军
addGlobalTeamTags:空军
spawnUnits:空军战术
deleteSelf:true

[hiddenAction_空军偷家]
autoTrigger:if self.isControlledByAI and numberOfUnitsInTeam(withTag="空军战术", lessThan=1) and self.hasResources(时间=180) and numberOfUnitsInEnemyTeam(withTag="无防空家", greaterThan=0) and not self.globalTeamTags(includes="空军偷家队列") and rnd(1, 100)>max(100-self.resource.AI难度*2, 90) and (numberOfUnitsInEnemyTeam(withTag="拦截")+numberOfUnitsInEnemyTeam(withTag="对空"))<3
requireConditional:if not self.globalTeamTags(includes="禁止偷家") and numberOfUnitsInAllTeams(withTag="禁空军", lessThan=1)
spawnUnits:空军战术
addGlobalTeamTags:空军偷家队列