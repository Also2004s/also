[核心]
name:检测团战
tags:检测团战
允许超高频触发:true
自动触发间隔:0.01s
自动触发检查率:everyFrame
class:CustomUnitMetadata
复制与:ROOT:/机制/通用模版.ini
半径:1
不可选择:true
[图像]
可见性:false
[移动]
运动类型:两栖
移动速度:48
加速度:2
maxTurnSpeed:1.8
转弯加速度:1.8
移动忽略转向:true
[隐藏行动_检测盟友位置]
自动触发事件:created
添加路径点动作类型:move
添加路径点检索标签:建筑物, 建造
添加路径点靠近队伍:enemy
[隐藏行动_防线位]
自动触发:true
需要条件:if 盟友有此单位数量(需标签="前排", 少于=1) and 盟友有此单位数量(需标签="I", 超过=0) and not 有全局标签(包含标签="防线") and 自身有标签(包含标签="前排")
临时标签添加:防线
添加全局标签:防线
也执行动作:机械战法
[隐藏行动_机械战法]
需要条件:if not 有全局标签(包含标签="ai死路")
产生单位:机械战法
[隐藏行动_发育位]
需要条件:if not 队伍中此单位数量(需标签="发育位", 超过=0) and not 盟友有此单位数量(需标签="发育位", 超过=0)
添加全局标签:后排, 空军, 对塔完毕
移除全局标签:陆军
产生单位:发育位
[隐藏行动_发现盟友]
自动触发:true
需要条件:if not 自身有标签(包含标签="后排") and not 自身有标签(包含标签="前排") and 盟友有此单位数量(需标签="I", 范围内=500, 超过=0) and 盟友有此单位数量(需标签="后排")<int(盟友有此单位数量(需标签="I")*0.25)
临时标签添加:后排
[隐藏行动_发现敌人]
需要条件:if 敌人有此单位数量(需标签="检测团战", 超过=0, 范围内=500) and 盟友有此单位数量(需标签="前排")<int(盟友有此单位数量(需标签="I")*0.75) or 盟友有此单位数量(需标签="后排")>=int(盟友有此单位数量(需标签="I")*0.5)
自动触发:if not 自身有标签(包含标签="前排") and not 自身有标签(包含标签="后排")
也执行动作:防线位
临时标签添加:前排
[隐藏行动_结算]
自动触发:if 盟友有此单位数量(需标签="前排")>=int(盟友有此单位数量(需标签="I")*0.75) or 存活时间(指定时间后=0.9)
需要条件:if not 自身有标签(包含标签="前排") and not 自身有标签(包含标签="后排") and 盟友有此单位数量(需标签="后排")<=int(盟友有此单位数量(需标签="I")*0.25)
临时标签添加:后排
也执行动作:发育位
[隐藏行动_死亡]
自动触发:true
需要条件:if 存活时间(指定时间后=3)
删除自身:true