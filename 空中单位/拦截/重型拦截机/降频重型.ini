[core]
name:降频重拦
copyFrom:重拦模版.ini,重拦作战模块.ini
autoTriggerCooldownTime:1.2s
autoTriggerCheckRate:every8Frames
[hiddenAction_进攻]
autoTrigger:true
requireConditional:if self.tags(includes="安全") and not self.isAttacking and self.isControlledByAI and numberOfUnitsInTeam(withTag="集结完毕",withinRange=500,greaterThan=0)
clearAllWaypoints:true
addWaypoint_type:attack
addWaypoint_target_nearestUnit_tagged:运输堡垒
addWaypoint_target_nearestUnit_team:enemy
addWaypoint_target_mapMustBeReachable:true
addWaypoint_triggerActionIfFailed:攻空对地
[hiddenAction_攻空对地]
addWaypoint_type:attack
addWaypoint_target_nearestUnit_tagged:空对地
addWaypoint_target_nearestUnit_team:enemy
addWaypoint_triggerActionIfFailed:攻拦截
[hiddenAction_攻拦截]
addWaypoint_type:attack
addWaypoint_target_nearestUnit_tagged:拦截
addWaypoint_target_nearestUnit_team:enemy
[hiddenAction_护送堡垒]
autoTrigger:if numberOfUnitsInTeam(withTag="运输堡垒",greaterThan=0) and self.hasResources(时间=100) and self.isControlledByAI
requireConditional:if numberOfUnitsInTeam(withTag="护送重拦")<(select(numberOfUnitsInTeam(withTag="运输堡垒")>0,numberOfUnitsInTeam(withTag="运输堡垒")*25,0)) and numberOfUnitsInTeam(withTag="空优",greaterThan=0)
convertTo:护送重拦I
[hiddenAction_支援求救]
autoTrigger:if numberOfUnitsInTeam(withTag="请求重拦",greaterThan=0) and self.hasResources(时间=100) and self.isControlledByAI
requireConditional:if numberOfUnitsInTeam(withTag="护送运输")<(select(numberOfUnitsInTeam(withTag="请求重拦")>0,numberOfUnitsInTeam(withTag="重拦")*0.2,0)) and numberOfUnitsInTeam(withTag="重拦")+self.numberOfUnitsInAllyNotOwnTeam(withTag="重拦")>(numberOfUnitsInEnemyTeam(withTag="重拦",factoryQueue=true)*1.25) and self.lastConverted(laterThanSeconds=30)
convertTo:护送重拦I
[hiddenAction_转]
autoTrigger:true
requireConditional:if not self.isControlledByAI
convertTo:重拦模版
[hiddenAction_升频]
autoTrigger:true
requireConditional:if numberOfUnitsInEnemyTeam(withTag="拦截",withinRange=210,greaterThan=0)
convertTo:重型拦截机I